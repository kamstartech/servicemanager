model Beneficiary {
  id Int @id @default(autoincrement())

  // Relationship to user
  userId Int        @map("user_id")
  user   MobileUser @relation(fields: [userId], references: [id], onDelete: Cascade)

  // Beneficiary details
  name            String          @db.Text
  beneficiaryType BeneficiaryType @map("beneficiary_type")

  // Unified account number for internal and external bank beneficiaries and wallet
  accountNumber String? @map("account_number") @db.Text

  // External bank type for bank and wallet has the needed data
  externalBankType ExternalBankType? @map("external_bank_type")

  // Optional fields
  description String? @db.Text

  // Metadata
  isActive Boolean @default(true) @map("is_active")

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  // Unique constraints per type
  @@unique([userId, accountNumber, beneficiaryType], name: "unique_user_beneficiary")
  @@index([userId])
  @@index([beneficiaryType])
  @@map("fdh_beneficiaries")
}
