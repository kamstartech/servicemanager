model BillerConfig {
  id String @id @default(cuid())

  // Identity
  billerType  BillerType @unique @map("biller_type")
  billerName  String     @map("biller_name") @db.Text
  displayName String     @map("display_name") @db.Text
  description String?    @db.Text
  isActive    Boolean    @default(true) @map("is_active")

  // API Configuration
  baseUrl        String @map("base_url") @db.Text
  endpoints      Json // { accountDetails, payment, invoice, etc. }
  authentication Json? // Encrypted credentials

  // Transaction Settings
  defaultCurrency     String   @default("MWK") @map("default_currency") @db.VarChar(3)
  supportedCurrencies String[] @default(["MWK"]) @map("supported_currencies")
  timeoutMs           Int      @default(30000) @map("timeout_ms")
  retryAttempts       Int      @default(3) @map("retry_attempts")

  // Features & Validation
  features        Json // { supportsInvoice, supportsBalanceCheck, etc. }
  validationRules Json // { accountNumberFormat, minAmount, maxAmount }

  // Audit
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String?  @map("created_by")
  updatedBy String?  @map("updated_by")

  // Relations
  transactions BillerTransaction[]

  @@index([billerType])
  @@index([isActive])
  @@map("biller_configs")
}
